{% extends '::base.html.twig' %}

{% block body -%}
    <h1>Club <small>{{ entity }}</small></h1>
    <div class='btn-group'>
        <a class='btn' href="{{ path('admin_club') }}">
            Back to the list
        </a>
        <a class="btn" href="{{ path('admin_club_edit', {'id': entity.id }) }}">
            Edit
        </a>
    </div>
    <hr/>
    <table class="table table-condensed">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ entity.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ entity.name }}</td>
            </tr>
        </tbody>
    </table>
    <h2>Members</h2>
    <form class="form-horizontal"
          action="{{ path('admin_club_add_member', {'id': entity.id}) }}"
          method="post"
          {{ form_enctype(form) }}>
        {{ form_widget(form) }}
        <div class="control-group">
            <div class="controls">
                <button type="submit" class="btn">{% if entity.id %}Save{% else %}Create{% endif %}</button>
            </div>
        </div>
    </form>
    {% if members %}
    <table class="table table-condensed">
        <tbody>
            {% for member in members %}
            <tr>
                <td>{{ member.user }}</td>
                <td>{{ member.admin }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No members for this club!</p>
    {% endif %}
{% endblock %}
