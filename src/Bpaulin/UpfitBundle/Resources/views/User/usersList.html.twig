{% extends "::base.html.twig" %}


{% block body %}
    <table id="userslist" class="table table-bordered table-striped table-hover">
        <thead>
            <tr>
                <th>Gravatar</th>
                <th>User</th>
                <th>E-mail</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
</table>
{% endblock %}


{% block javascripts %}
    {{ parent() }}
    {% javascripts '@BpaulinUpfitBundle/Resources/public/datatables/js/jquery.dataTables.min.js'
                    '@BpaulinUpfitBundle/Resources/public/js/datatables.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <script>
    $(document).ready(function() {
        $('#userslist').dataTable( {
            "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sProcessing":     "Traitement en cours...",
                "sSearch":         "Rechercher&nbsp;:",
                "sLengthMenu":     "Afficher _MENU_ &eacute;l&eacute;ments",
                "sInfo":           "Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",
                "sInfoEmpty":      "Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",
                "sInfoFiltered":   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
                "sInfoPostFix":    "",
                "sLoadingRecords": "Chargement en cours...",
                "sZeroRecords":    "Aucun &eacute;l&eacute;ment &agrave; afficher",
                "sEmptyTable":     "Aucune donnée disponible dans le tableau",
                "oPaginate": {
                    "sFirst":      "Premier",
                    "sPrevious":   "Pr&eacute;c&eacute;dent",
                    "sNext":       "Suivant",
                    "sLast":       "Dernier"
                },
                "oAria": {
                    "sSortAscending":  ": activer pour trier la colonne par ordre croissant",
                    "sSortDescending": ": activer pour trier la colonne par ordre décroissant"
                }
            },
            "bProcessing": true,
            "bServerSide": true,
            "bStateSave": true,
            "aLengthMenu": [ [10, 25, 50, 100, -1], [10, 25, 50, 100, "All"] ],
            "iDisplayLength" : 10,
            "sAjaxSource": "{{ path('admin_ajax_users_list') }}",
            "aoColumnDefs": [
                {
                    "mRender": function ( data, type, row ) {
                        return "<img src='"+row[3]+"'/>";
                    },
                    "bSearchable": false,
                    "aTargets": [ 0 ]
                },
                {
                    "mRender": function ( data, type, row ) {
                        return "<a href='#'>"+row[1]+"</a>";
                    },
                    "bSearchable": true,
                    "aTargets": [ 1 ]
                },
                {
                    "mRender": function ( data, type, row ) {
                        return "<a href='mailto:"+row[2]+"'>"+row[2]+"</a>";
                    },
                    "bSearchable": true,
                    "aTargets": [ 2 ]
                }
    		 ]
        } );
    } );
    </script>
{% endblock %}


{% block stylesheets %}
    {{ parent() }}
    {% stylesheets '@BpaulinUpfitBundle/Resources/public/datatables/css/jquery.dataTables.css'
                    '@BpaulinUpfitBundle/Resources/public/css/datatables.css' %}
     <link rel="stylesheet" href="{{ asset_url }}" media="screen"/>
    {% endstylesheets %}
{% endblock %}
